# ADR-006 — Observabilidade

## Contexto
Inicialmente foi considerada a inclusão explícita de métricas, rastreamento e logs enriquecidos diretamente no código da aplicação (ex: instrumentação manual, criação de métricas customizadas internas). No entanto, o escopo do projeto é enxuto e não envolve integrações externas complexas ou requisitos rígidos de SLO já definidos.

## Decisão
Optar por **não adicionar instrumentação manual adicional** dentro da aplicação neste momento. A estratégia de observabilidade será delegada à **infraestrutura**, utilizando ferramentas de auto-instrumentação (ex: agentes Java, sidecars ou collectors OpenTelemetry) para coleta de métricas, traces e logs sem acoplamento direto ao código.

## Justificativa
- Evita poluir o domínio/serviços com detalhes operacionais.
- Facilita evolução: trocar stack (OpenTelemetry, vendor A/B) sem refatorar classes de negócio.
- Reduz manutenção de métricas customizadas que podem não ser necessárias no estágio atual.
- Alinha-se ao princípio de separar preocupações de aplicação (regra de negócio) e observabilidade (operacional).

## O que permanece
- Logs estruturados básicos (níveis adequados) para suporte a troubleshooting.
- Possibilidade futura de expor endpoints padrão caso necessário (ex: Actuator) sem comprometer a arquitetura.

## Consequências
- Métricas ou traces altamente específicos (ex: contagem de recomendações por categoria) não estarão disponíveis até que haja demanda clara.
- Dependência maior da stack de infraestrutura para visibilidade (pipeline de logs, coleta de JVM metrics, etc.).
- Facilita adoção posterior de OpenTelemetry autoconfig (javaagent) sem alterações no código.

## Alternativas consideradas
1. Instrumentação manual com bibliotecas (Micrometer + Actuator): maior controle, porém maior acoplamento.
2. Expor apenas health checks: limitaria visibilidade operacional.


## Status
Aceita (postergar instrumentação manual até que o custo-benefício seja positivo).