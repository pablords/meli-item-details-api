{
  "consumer": {
    "name": "SpringTemplateApp"
  },
  "interactions": [
    {
      "description": "Cria um usuário com sucesso",
      "providerState": "Usuário não existe",
      "request": {
        "body": {
          "name": "jhon",
          "email": "jhon@email.com"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/v1/users"
      },
      "response": {
        "body": {
          "id": "ce118b6e-d8e1-11e7-9296-cec278b6b50a",
          "name": "jhon",
          "email": "jhon@email.com"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.id": {
            "match": "regex",
            "regex": "^[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}$"
          }
        },
        "status": 201
      }
    },
    {
      "description": "Retorna erro ao criar usuário com email duplicado",
      "providerState": "Usuário já existe",
      "request": {
        "body": {
          "name": "jhon",
          "email": "jhon@email.com"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/v1/users"
      },
      "response": {
        "body": {
          "error": "Conflict",
          "message": "A email already exists: jhon@email.com",
          "path": "/api/v1/users",
          "timestamp": "2015-01-01T13:00:00Z"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.timestamp": {
            "match": "regex",
            "regex": "^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d{3})?Z$"
          }
        },
        "status": 409
      }
    },
    {
      "description": "Retorna erro ao criar usuário sem nome",
      "providerState": "Usuário inválido (sem nome)",
      "request": {
        "body": {
          "name": "",
          "email": "jhon@email.com"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/v1/users"
      },
      "response": {
        "body": {
          "error": "Unprocessable Entity",
          "errors": {
            "name": "Name cannot be empty"
          },
          "message": "Validation error",
          "path": "/api/v1/users",
          "timestamp": "2015-01-01T13:00:00Z"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        },
        "status": 422
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  },
  "provider": {
    "name": "SpringTemplateService"
  }
}